# 扎金花项目任务清单

> 所有任务按里程碑顺序推进，完成后需记录时间与产出。若需调整顺序，必须先更新本清单并告知团队。

## 里程碑 0：架构与基础设施
- [ ] 确认 Flutter/Dart 版本与项目依赖策略，补充 `pubspec.yaml` 说明。  
- [ ] 搭建目录结构：`core/`、`data/`、`modules/`、`router/`、`generated/`，创建基础占位文件。  
- [ ] 集成 Riverpod、GoRouter（或自定义路由方案），配置开发/生产入口。  
- [ ] 配置 `hive_flutter`（含适配器注册、初始化流程）。  
- [ ] 制定代码规范（含中文注释、命名约束）并在 `analysis_options.yaml` 中落地。  
- [ ] 搭建基础主题与现代拟态风格样式系统（颜色、阴影、圆角）。  
- [ ] 配置持续集成脚本（可选），至少保证 `flutter analyze` 与 `flutter test` 可运行。

## 里程碑 1：核心游戏引擎
- [ ] 实现牌堆与洗牌逻辑，提供可重复的种子机制。  
- [ ] 建立牌型数据结构、比较算法与测试用例。  
- [ ] 设计下注状态机，覆盖跟注、加注、弃牌、看牌、比牌等流程。  
- [ ] 提供面向 UI 的只读局面模型（玩家视角）。  
- [ ] 编写初步单元测试与回放脚本，验证流程正确性。  
- [ ] 将核心逻辑接入 Hive 持久化（玩家数据、桌局配置）。

## 里程碑 2：UI 与交互
- [ ] 搭建现代拟态风格的通用组件（按钮、卡牌、筹码、面板）。  
- [ ] 实现主菜单界面及导航至牌桌。  
- [ ] 构建牌桌界面：玩家座位布局、底池/筹码展示、操作区域。  
- [ ] 实现发牌、筹码移动等关键动画，保证帧率与节奏。  
- [ ] 集成中文提示、状态反馈（SnackBar/Toast）。  
- [ ] 编写 Widget 测试与 Golden 测试覆盖核心组件。

## 里程碑 3：AI 对手
- [ ] 基于 `docs/ai_rules.md` 搭建 AI 策略接口骨架。  
- [ ] 实现不同难度（简单/普通/困难）策略配置与决策逻辑。  
- [ ] 接入 Monte Carlo 或估值算法，校准胜率阈值。  
- [ ] 添加 AI 行为日志与开发模式调试开关。  
- [ ] 执行策略回放测试并生成统计报告。  
- [ ] 根据测试结果微调参数，记录在 AI 规则文档附录。

## 里程碑 4：打磨与发布
- [ ] 完善新手指引、操作教程与友好提示文案。  
- [ ] 优化性能（绘制、动画、状态更新），确保平均帧率 60 FPS。  
- [ ] 完成本地化资源整理（中文主文案 + 英文备用）。  
- [ ] 编写正式 README 发布说明、关键截图（代码生成示意）。  
- [ ] 准备打包配置（Android、iOS）并进行预发布测试。  
- [ ] 收集测试反馈，修复阻断性问题。

## 长期与扩展
- [ ] 调研在线对战与同步机制，设计网络层接口。  
- [ ] 拓展成就系统、事件活动与每日任务。  
- [ ] 考虑接入音效模块，设计背景音乐与操作音效方案。  
- [ ] 评估机器学习增强 AI 的可能性，预留数据采集方案。
